class som_gbx_sys_bxp_wup : Inventory
{
	default
	{
		Tag "$SOM_GBX_Actor_Item_WUP_Name";
		+INVENTORY.INVBAR
		Inventory.Icon "SWUGA0";
		Inventory.MaxAmount 9999;
		Inventory.InterHubAmount 9999;
		Inventory.PickupMessage "$SOM_GBX_Actor_Item_WUP_PickupMsg";
		Inventory.PickupSound "misc/p_pkup";
	}
	
	override bool use(bool pickup)
	{
		Let stats = TFLV_PerPlayerStats.GetStatsFor(owner);
		
		if (stats)
		{
			Let weap = stats.GetInfoForCurrentWeapon();
			
			if (weap)
			{
				uint lv = weap.level;
				uint plv = weap.CountPendingLevels();
				double bxp = weap.GetXPForLevel(1 + lv + plv);
				
				weap.AddXP(bxp);

				return (true);
			}
		}
		
		console.printf("This will not work now.");
		return (false);
	}
	
	States
	{
		Spawn:
			SWUG A 6 Bright;
			SWUG A 6;
			Loop;
	}
}

class som_gbx_sys_bxp_pup : Inventory
{
	default
	{
		Tag "$SOM_GBX_Actor_Item_PUP_Name";
		+INVENTORY.INVBAR
		Inventory.Icon "SPUGA0";
		Inventory.MaxAmount 9999;
		Inventory.InterHubAmount 9999;
		Inventory.PickupMessage "$SOM_GBX_Actor_Item_PUP_PickupMsg";
		Inventory.PickupSound "misc/p_pkup";
	}
	
	override bool use(bool pickup)
	{
		Let stats = TFLV_PerPlayerStats.GetStatsFor(owner);
		
		if (stats)
		{
			stats.AddPlayerXP(bonsai_gun_levels_per_player_level);
			
			return (true);
		}
		
		console.printf("This will not work now.");
		return (false);
	}

	States
	{
		Spawn:
			SPUG A 6 Bright;
			SPUG A 6;
			Loop;
	}
}
