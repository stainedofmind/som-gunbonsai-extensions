Class som_gbx_eventhandler : EventHandler
{
	som_gbx_hud_eventhandler hud;
	int hud_idx;
	
	void hello_world()
	{
		Let wid = hud.get_widget(hud_idx);
		
		if (!wid)
		{
			console.printf("SoM GBX: Null HUD Widget in Main Event Handler!");
			return;
		}
		
		wid.draw = true;
		wid.scale = 2;
		wid.x = 8;
		wid.y = 8;
		wid.align_x = 0;
		wid.align_y = 0;
		
		wid.lines.Clear();
		wid.lines.Push("Hello, world!");
	}
	
	override void WorldTick()
	{
		//hello_world();
	}
	
	override void WorldLoaded(WorldEvent e)
	{
		if (level.totaltime == 0)
		{
			hud = som_gbx_hud_eventhandler.Fetch();
			hud_idx = hud.new_widget();
		}
		
		hello_world();
	}
}
